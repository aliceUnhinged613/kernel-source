From: Borislav Petkov <bp@suse.de>
Date: Tue Apr 21 17:52:00 CEST 2020
Subject: mod_devicetable: Add a x86_cpu_id.steppings kABI workaround
Patch-mainline: never, SUSE-specific
References: bsc#1154824 CVE-2020-0543

Add a workaround for the new steppings member.

Signed-off-by: Borislav Petkov <bp@suse.de>

---
 include/linux/mod_devicetable.h |    2 ++
 1 file changed, 2 insertions(+)

--- a/include/linux/mod_devicetable.h
+++ b/include/linux/mod_devicetable.h
@@ -591,7 +591,9 @@ struct x86_cpu_id {
 	__u16 vendor;
 	__u16 family;
 	__u16 model;
+#ifndef __GENKSYMS__
 	__u16 steppings;
+#endif
 	__u16 feature;	/* bit index */
 	kernel_ulong_t driver_data;
 };
